<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Automating linting and error checking with Trunk | SIH Tech Tidbits
</title>
  <link rel="canonical" href="https://sydney-informatics-hub.github.io/tidbits/automating-linting-and-error-checking-with-trunk.html">


  <link rel="stylesheet" href="https://sydney-informatics-hub.github.io/tidbits/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://sydney-informatics-hub.github.io/tidbits/theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="https://sydney-informatics-hub.github.io/tidbits/theme/css/pygments/paraiso-dark.min.css">
  <link rel="stylesheet" href="https://sydney-informatics-hub.github.io/tidbits/theme/css/theme.css">
  <link rel="stylesheet" href="https://sydney-informatics-hub.github.io/tidbits/static/css/tag_cloud.css">

  <link rel="alternate" type="application/atom+xml" title="Full Atom Feed"
        href="https://sydney-informatics-hub.github.io/tidbits/feeds/all.atom.xml">
  <link rel="alternate" type="application/atom+xml" title="Categories Atom Feed"
        href="https://sydney-informatics-hub.github.io/tidbits/feeds/misc.atom.xml">  
  <meta name="description" content="See Trunk in action in the eeharvest package repository Use Trunk to check and monitor code prior to pushing it to production, allowing you to catch issues quickly. It works …">
  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o);
      a.async = 1;
      a.src = g;
      m = s.getElementsByTagName(o)[0];
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'G-TNWWV3HK57', 'auto');
    ga('send', 'pageview');
  </script>


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
  <div class="col-sm-12">
    <h1 class="title"><a href="https://sydney-informatics-hub.github.io/tidbits/">SIH Tech Tidbits</a></h1>
      <p class="text-muted">Useful tips, libraries and tools from the <a href='https://www.sydney.edu.au/research/facilities/sydney-informatics-hub.html'>Sydney Informatics Hub</a> team</p>
  </div>
</div>

<div id="search_box">
  <h5 class="h5">Search:</h5>
  <form>
    <div class="form-row">
      <div class="col-auto">
        <input
          class="form-control"
          type="text"
          name="q"
          id="tipue_search_input"
          pattern=".{3,}"
          title="At least 3 characters"
          required
        />
      </div>
      <div class="col-auto">
        <button type="submit" class="btn btn-primary">
          <span class="fa fa-search"></span>
        </button>
      </div>
    </div>
  </form>
  <div id="tipue_search_content"></div>
</div>

    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Automating linting and error checking with Trunk
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2023-02-07T00:00:00+11:00">
          <i class="fas fa-clock"></i>
          Tue 07 February 2023
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="https://sydney-informatics-hub.github.io/tidbits/category/misc.html">misc</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-user"></i>
              <a href="https://sydney-informatics-hub.github.io/tidbits/author/januar-harianto.html">Januar Harianto</a>          </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="https://sydney-informatics-hub.github.io/tidbits/tag/linting.html">#linting</a>,               <a href="https://sydney-informatics-hub.github.io/tidbits/tag/error-checking.html">#error-checking</a>,               <a href="https://sydney-informatics-hub.github.io/tidbits/tag/devex.html">#devEx</a>,               <a href="https://sydney-informatics-hub.github.io/tidbits/tag/automation.html">#automation</a>          </li>
      </ul>
    </header>
    <div class="content">
      <h2>See Trunk in action in the <code>eeharvest</code> package <a href="https://github.com/Sydney-Informatics-Hub/eeharvest">repository</a></h2>
<p>Use <a href="https://trunk.io">Trunk</a> to check and monitor code prior to pushing it to production,
allowing you to catch issues quickly. It works like a local CI or pre-commit
hook for linting and formatting, but is <strong>instantenous</strong>. Best of all, it doesn't
force collaborators to install anything, and they may appreciate you for it.</p>
<p>With trunk you can replace:</p>
<ul>
<li>linters: e.g. <code>flake8</code>, <code>pylint</code>, <code>eslint</code>, <code>stylelint</code>, <code>shellcheck</code>,
  <code>markdownlint</code></li>
<li>formatters: e.g. <code>black</code>, <code>prettier</code>, <code>isort</code>, <code>shfmt</code></li>
<li>issue detection: e.g. <code>bandit</code>, <code>safety</code>, <code>mypy</code></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=usernamehw.errorlens">ErrorLens</a>:
  in-line error reporting - installing this will result in "double" error reporting</li>
</ul>
<p>All of the above are configured, installed and managed for you by Trunk, and
editable in a <code>.trunk.yaml</code> file.</p>
<h2>Lint</h2>
<p>Trunk can lint your files as you type and shows you the errors inline:</p>
<p><img src="https://sydney-informatics-hub.github.io/tidbits/images/trunk/flake8@2x.png" alt= “” width="500"></p>
<h2>Format</h2>
<p>Enable automatic formatting on save - using <code>black</code>, <code>prettier</code>, or other
formatters of choice:</p>
<p><img src="https://sydney-informatics-hub.github.io/tidbits/images/trunk/black_preview.gif" alt= “” width="800"></p>
<p>Trunk is available for free in <em>most</em> circumstances.</p>
<h2>Check</h2>
<p>When used in VS Code, Trunk can consolidate all issues in a "Check" sidebar:</p>
<p><img src="https://sydney-informatics-hub.github.io/tidbits/images/trunk/check.png" alt= “” width="400"></p>
<h2>Other functionality</h2>
<p>Trunk works with continuous integration workflows, accepts custom linters and
parsers, and has a robust CLI interface which allows developlers to allow
teammates to use its features without installing anything (if Trunk is commited
directly into the repo). Check out the documentation
<a href="https://docs.trunk.io/docs">here</a>.</p>
<p><strong>In most cases, a local install of Trunk is sufficient for routine linting and
error checks.</strong> It's just so convenient.</p>
<h2>Installation</h2>
<h3>VS Code (recommended)</h3>
<p>Install via <a href="https://marketplace.visualstudio.com/items?itemName=Trunk.io">VS Code
extensions</a>. For
every new project, you will be asked if you want to initialise Trunk.</p>
<p><img src="https://sydney-informatics-hub.github.io/tidbits/images/trunk/vscode_init_trunk.png" alt= “” width="300"></p>
<h3>Bash</h3>
<p>If you use other editors, you can install Trunk via the command line:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>https://get.trunk.io<span class="w"> </span>-fsSL<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</code></pre></div>

<p>Then, initialise trunk for a project by running the following command in the root folder:</p>
<div class="highlight"><pre><span></span><code>trunk<span class="w"> </span>init
</code></pre></div>

<p>Use <code>trunk check</code> to run all linters, or <code>trunk fmt</code> to run all formatters. More
information ca be found in the documentation
<a href="https://docs.trunk.io/docs/check-cli">here</a>.</p>
    </div>
  </article>
  <script src="https://giscus.app/client.js"
        data-repo="Sydney-Informatics-Hub/tidbits"
        data-repo-id="R_kgDOKKuuxw"
        data-category="Announcements"
        data-category-id="DIC_kwDOKKuux84CY0kA"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
      <li class="list-inline-item"><a href="https://sydney-informatics-hub.github.io/tidbits/authors.html">Authors</a></li>
    <li class="list-inline-item"><a href="https://sydney-informatics-hub.github.io/tidbits/archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="https://sydney-informatics-hub.github.io/tidbits/categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="https://sydney-informatics-hub.github.io/tidbits/tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://sydney-informatics-hub.github.io/tidbits/static/js/tipuesearch.min.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://sydney-informatics-hub.github.io/tidbits/static/js/tipuesearch_set.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://sydney-informatics-hub.github.io/tidbits/tipuesearch_content.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://sydney-informatics-hub.github.io/tidbits/static/js/activate_search.js" crossorigin="anonymous"></script>
</body>

</html>